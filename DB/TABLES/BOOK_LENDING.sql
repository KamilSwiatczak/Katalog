  CREATE TABLE "BOOK_LENDING" 
   (	"ID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	"BOOK_ID" NUMBER NOT NULL ENABLE, 
	"START_DATE" DATE NOT NULL ENABLE, 
	"END_DATE" DATE, 
	"PERSON" VARCHAR2(200) NOT NULL ENABLE, 
	"EMAIL" VARCHAR2(100), 
	"CREATE_DATE" DATE DEFAULT SYSDATE NOT NULL ENABLE, 
	 CONSTRAINT "BOOK_LENDING_PK" PRIMARY KEY ("ID")
  USING INDEX  ENABLE
   ) ;

  ALTER TABLE "BOOK_LENDING" ADD CONSTRAINT "BOOK_LENDING_CON" FOREIGN KEY ("BOOK_ID")
	  REFERENCES "BOOKS" ("ID") ON DELETE CASCADE ENABLE;

  CREATE OR REPLACE EDITIONABLE TRIGGER "BOOK_LENDING_CREATE_DATE" 
before
insert on "BOOK_LENDING"
for each row
begin
    :NEW.CREATE_DATE := SYSDATE;
end;
/
ALTER TRIGGER "BOOK_LENDING_CREATE_DATE" ENABLE;