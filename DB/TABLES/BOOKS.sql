  CREATE TABLE "BOOKS" 
   (	"ID" NUMBER GENERATED BY DEFAULT ON NULL AS IDENTITY MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE  NOKEEP  NOSCALE  NOT NULL ENABLE, 
	"TITLE" VARCHAR2(200 CHAR), 
	"AUTHOR" VARCHAR2(200 CHAR), 
	"ISBN" NUMBER, 
	"YEAR" NUMBER, 
	"GENRE_ID" NUMBER, 
	"LOCATION_ID" NUMBER, 
	"SCORE" NUMBER, 
	"DESCRIPTION" VARCHAR2(4000 CHAR), 
	"COVER" BLOB, 
	"MIME_TYPE" VARCHAR2(200), 
	"FILE_NAME" VARCHAR2(200), 
	"DELETED" CHAR(1 CHAR) DEFAULT 'N' NOT NULL ENABLE, 
	"PUBLISHER" VARCHAR2(200 CHAR), 
	"LANGUAGE" VARCHAR2(15), 
	"CREATE_DATE" DATE DEFAULT SYSDATE NOT NULL ENABLE, 
	 CONSTRAINT "BOOKS_ID_PK" PRIMARY KEY ("ID")
  USING INDEX  ENABLE, 
	 CONSTRAINT "BOOKS_DELETED_CON" CHECK ( "DELETED" IN ('N', 'Y') ) ENABLE
   ) ;

  ALTER TABLE "BOOKS" ADD CONSTRAINT "BOOKS_GENRE_ID_FK" FOREIGN KEY ("GENRE_ID")
	  REFERENCES "BOOK_GENRES" ("ID") ON DELETE CASCADE ENABLE;
  ALTER TABLE "BOOKS" ADD CONSTRAINT "BOOKS_LOCATION_ID_FK" FOREIGN KEY ("LOCATION_ID")
	  REFERENCES "LOCATIONS" ("ID") ON DELETE CASCADE ENABLE;

  CREATE INDEX "BOOKS_I1" ON "BOOKS" ("GENRE_ID") 
  ;

  CREATE INDEX "BOOKS_I42" ON "BOOKS" ("LOCATION_ID") 
  ;

  CREATE OR REPLACE EDITIONABLE TRIGGER "BOOKS_CREATE_DATE" 
before
insert on "BOOKS"
for each row
begin
    :NEW.CREATE_DATE := SYSDATE;
end;
/
ALTER TRIGGER "BOOKS_CREATE_DATE" ENABLE;